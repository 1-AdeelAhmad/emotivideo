{"version":3,"sources":["Components/VideoFeed.js","Components/Title.js","Components/CurrentEmotion.js","Components/CurrentAge.js","Components/CurrentGender.js","App.js","serviceWorker.js","index.js"],"names":["VideoFeed","componentDidMount","a","loadNewModel","setInputDevice","MODEL_URL","process","faceapi","tinyFaceDetector","loadFromUri","faceLandmark68Net","faceRecognitionNet","faceExpressionNet","ageGenderNet","navigator","mediaDevices","enumerateDevices","then","devices","filter","device","kind","length","setState","facingMode","exact","startVideoFeed","interval","setInterval","videoFeed","componentWillUnmount","clearInterval","video","document","getElementById","withFaceLandmarks","withAgeAndGender","withFaceExpressions","detections","dimensions","width","height","resizedDimensions","canvas","getContext","clearRect","props","showLandmarks","drawDetections","drawFaceLandmarks","console","log","state","emotion","Object","keys","expressions","find","key","getCurrentEmotion","age","getCurrentAge","gender","getCurrentGender","webcam","React","createRef","classes","this","videoConstraints","Paper","elevation","className","root","style","display","justifyContent","alignItems","id","audio","ref","screenshotFormat","borderRadius","position","Component","withStyles","theme","flexGrow","margin","marginTop","marginBottom","useStyles","makeStyles","menuButton","marginRight","spacing","title","fontSize","subtitle","fontStyle","Title","AppBar","color","borderTopRightRadius","borderTopLeftRadius","Toolbar","Typography","variant","align","CurrentEmotion","padding","toUpperCase","CurrentAge","Math","round","CurrentGender","App","e","preventDefault","Container","maxWidth","Grid","container","justify","item","xs","sm","Button","onClick","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.3f256018.chunk.js","sourcesContent":["import React from 'react';\nimport Webcam from 'react-webcam';\nimport { Paper, withStyles } from '@material-ui/core';\nimport * as faceapi from 'face-api.js';\n\nconst Styles = (theme => ({\n    root: {\n      flexGrow: 1,\n      margin: '0 auto',\n      width: '90vw',\n      height: '90vw',\n      marginTop: '1rem',\n      marginBottom: '1rem',\n      borderRadius: '20px'\n\n    }\n  }));\n\nconst WIDTH = 300;\nconst HEIGHT = 300;\n\nclass VideoFeed extends React.Component{\n    constructor(){\n        super()\n        this.state = {\n            facingMode: null,\n            detections: null,\n\n        }\n        this.webcam = React.createRef();\n    }\n\n    componentDidMount = async () => {\n        await this.loadNewModel();\n        this.setInputDevice();\n    }\n\n    loadNewModel = async () => {\n        const MODEL_URL = process.env.PUBLIC_URL + '/models';\n        await faceapi.nets.tinyFaceDetector.loadFromUri(MODEL_URL);\n        await faceapi.nets.faceLandmark68Net.loadFromUri(MODEL_URL);\n        await faceapi.nets.faceRecognitionNet.loadFromUri(MODEL_URL);\n        await faceapi.nets.faceExpressionNet.loadFromUri(MODEL_URL);\n        await faceapi.nets.ageGenderNet.loadFromUri(MODEL_URL);\n    }\n\n    setInputDevice = () => {\n        navigator.mediaDevices.enumerateDevices().then(async devices => {\n            const inputDevice = await devices.filter(\n                device => device.kind === 'videoinput'\n            )\n            if(inputDevice.length < 2){\n               await this.setState({\n                   facingMode: 'user'\n               })\n            } else {\n                await this.setState({\n                    facingMode: { exact: 'environment' }\n                })\n            }\n            this.startVideoFeed();\n        });\n    }\n\n    startVideoFeed = () => {\n        this.interval = setInterval(() => {\n            this.videoFeed()\n        }, 100)\n    }\n\n    componentWillUnmount = () => {\n        clearInterval(this.interval)\n    }\n\n    videoFeed = async () => {\n        const video = document.getElementById('video')\n\n        const detections = await faceapi.detectAllFaces(video, \n                new faceapi.TinyFaceDetectorOptions())\n                .withFaceLandmarks()\n                .withAgeAndGender()\n                .withFaceExpressions()\n        \n                await this.setState({\n                    detections\n                })\n\n            const dimensions = {\n                width: WIDTH,\n                height: HEIGHT\n            };\n\n            const resizedDimensions = faceapi.resizeResults(detections, dimensions)\n            const canvas = document.getElementById('canvas');\n\n            canvas.getContext('2d').clearRect(0,0,canvas.width, canvas.height)\n\n            if(this.props.showLandmarks) {\n                faceapi.draw.drawDetections(canvas, resizedDimensions)\n                faceapi.draw.drawFaceLandmarks(canvas, resizedDimensions)\n            }\n            // faceapi.draw.drawFaceExpressions(canvas, resizedDimensions)\n\n            console.log(detections)\n\n            if(this.state.detections.length > 0){\n                const emotion = Object.keys(detections[0].expressions).find(key => detections[0].expressions[key] > 0.5 )\n                this.props.getCurrentEmotion(emotion);\n\n                const age = detections[0].age;\n                this.props.getCurrentAge(age);\n\n                const gender = detections[0].gender;\n                this.props.getCurrentGender(gender)\n            }\n    }\n\n    render(){\n        const { classes }  = this.props;\n        const {facingMode } = this.state;\n        let videoConstraints = null;\n        let camera = '';\n\n        if(facingMode) {\n            videoConstraints = {\n                width: WIDTH,\n                height: HEIGHT,\n                facingMode\n            };\n\n            // if(facingMode === 'user') {\n            //     camera = 'Front';\n            // } else {\n            //     camera = 'Back';\n            // }\n        }\n\n        return(\n            <Paper elevation={0} className={classes.root}>\n                <div style={{\n                        width: '100%',\n                        height: '100%',\n                        display: 'flex',\n                        justifyContent : 'center',\n                        alignItems: 'center'}}>\n                    <Webcam \n                        id='video'\n                        audio={false}\n                        width={WIDTH}\n                        height={HEIGHT}\n                        ref = {this.webcam}\n                        screenshotFormat='image/jpeg'\n                        videoConstraints = {videoConstraints} \n                        style={{borderRadius:'20px'}}\n                    />\n                    <canvas \n                        style={{position: 'absolute'}} \n                        id='canvas' ref={this.canvas} \n                        width={WIDTH} \n                        height={HEIGHT}\n                    />\n                </div>\n            </Paper>\n        )\n    }\n}\n\nexport default withStyles(Styles)(VideoFeed);\n","import React from 'react';\nimport { AppBar, Toolbar, Typography, makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n      flexGrow: 1,\n    },\n    menuButton: {\n      marginRight: theme.spacing(2),\n    },\n    title: {\n      flexGrow: 1,\n      fontSize:' 1.25rem',\n    },\n    subtitle: {\n        marginTop: '1rem',\n        marginBottom: '1rem',\n        fontStyle: 'italic',\n        fontSize:'.6rem'\n    }\n  }));\n\nconst Title = () => {\n\n    const classes = useStyles();\n\n    return(\n        <div>\n            <AppBar position=\"static\" color='primary' style={{borderTopRightRadius: '20px',borderTopLeftRadius: '20px' }}>\n                <Toolbar>\n                    <Typography variant=\"h5\" className={classes.title}>\n                        Emoti Video\n                    </Typography>\n                    {/* <Button color=\"inherit\">Name</Button> */}\n                </Toolbar>\n            </AppBar>\n            <Typography className={classes.subtitle} align='center' display='block' variant='button' >An App That Detects Facial Emotions In Real-Time</Typography>\n        </div>\n    )\n}\n\nexport default Title;","import React from 'react';\nimport { Paper, Typography } from '@material-ui/core';\n\nconst CurrentEmotion = ({emotion}) => {\n    return(\n        <div style={{margin: '0 auto', marginTop: '1rem', width:'80vw'}}>\n            <Paper elevation={3} style={{padding: '1rem'}}>\n                <Typography style={{marginBottom: '.5rem'}} align='center' variant='body2'>CURRENT EXPRESSION:</Typography>\n                <Typography align='center' variant='subtitle2'>\n                    {emotion? emotion.toUpperCase() : 'LOADING...'}\n                </Typography>\n            </Paper>\n        </div>\n    )\n}\n\nexport default CurrentEmotion;","import React from 'react';\nimport { Paper, Typography } from '@material-ui/core';\n\nconst CurrentAge = ({age}) => {\n    return(\n        <div style={{margin: '0 auto', width:'30vw'}}>\n            <Paper elevation={3} style={{padding: '1rem'}}>\n                <Typography style={{marginBottom: '.5rem'}}  align='center' variant='body2'>AGE:</Typography>\n                <Typography align='center' variant='subtitle2'>\n                    {age? Math.round(age) : 'LOADING...'}\n                </Typography>\n            </Paper>\n        </div>\n    )\n}\n\nexport default CurrentAge;","import React from 'react';\nimport { Paper, Typography } from '@material-ui/core';\n\nconst CurrentGender = ({gender}) => {\n    return(\n        <div style={{margin: '0 auto', width:'30vw'}}>\n            <Paper elevation={3} style={{padding: '1rem'}}>\n                <Typography style={{marginBottom: '.5rem'}}  align='center' variant='body2'>GENDER:</Typography>\n                <Typography align='center' variant='subtitle2'>\n                    {gender? gender.toUpperCase() : 'LOADING...'}\n                </Typography>\n            </Paper>\n        </div>\n    )\n}\n\nexport default CurrentGender;","import React from 'react';\nimport './App.css';\nimport { Container, Paper, Grid, Button } from '@material-ui/core';\nimport VideoFeed from './Components/VideoFeed';\n// import CameraFeed from './Components/CameraFeed';\nimport Title from './Components/Title';\nimport CurrentEmotion from './Components/CurrentEmotion';\nimport CurrentAge from './Components/CurrentAge';\nimport CurrentGender from './Components/CurrentGender';\n\n\nclass App extends React.Component{\n    constructor(){\n        super()\n        this.state =  {\n            emotion: '',\n            age: '',\n            gender: '',\n            showLandmarks: false\n        }\n    }\n\n    getCurrentEmotion = (emotion) => {\n        this.setState({emotion})\n    }\n\n    getCurrentAge = (age) => {\n        this.setState({age})\n    }\n\n    getCurrentGender = (gender) => {\n        this.setState({gender})\n    }\n\n    showLandmarks = (e) => {\n        e.preventDefault()\n        this.setState({\n            showLandmarks: !this.state.showLandmarks\n        })\n    }\n\n    render(){\n        return(\n            \n            <Container maxWidth='sm' style={{marginTop: '2rem', marginBottom: '2rem'}}>\n                <Paper elevation={3} style={{borderRadius: '20px'}}>\n                    <Title/>\n                    <hr style={{width: '60%'}}/>\n                    {/* <CameraFeed getCurrentEmotion={this.getCurrentEmotion} /> */}\n                    <VideoFeed \n                        getCurrentEmotion={this.getCurrentEmotion}\n                        getCurrentAge={this.getCurrentAge}\n                        getCurrentGender={this.getCurrentGender}\n                        showLandmarks={this.state.showLandmarks}\n                    />\n                    <hr style={{width: '60%'}}/>\n                    <Grid container spacing={3} justify='center'>\n                        <Grid item xs={12}>\n                            <CurrentEmotion emotion={this.state.emotion}/>\n                        </Grid>\n                        <Grid item xs={6}>\n                            <CurrentAge age={this.state.age}/>\n                        </Grid>\n                        <Grid item xs={6}>\n                            <CurrentGender gender={this.state.gender}/>\n                        </Grid>\n                        <Grid item sm={12}>\n                            <Paper style={{padding: '.25rem'}}>\n                                <Button onClick={this.showLandmarks}>{this.state.showLandmarks? 'Click To Hide Landmarks' : 'Click To Show Landmarks'}</Button>\n                            </Paper>    \n                        </Grid>\n                    </Grid>\n                    \n                </Paper>\n            </Container>\n\n        )\n    }\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}